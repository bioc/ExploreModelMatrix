---
title: "exploreModelMatrix"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{exploreModelMatrix}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(exploreModelMatrix)
```

## Example 1

```{r, fig.width = 7}
sampleData <- data.frame(genotype = rep(c("A", "B"), each = 4),
                         treatment = rep(c("ctrl", "trt"), 4))
vd <- visualizeDesign(sampleData = sampleData, 
                      designFormula = ~ genotype + treatment)
cowplot::plot_grid(plotlist = vd$plotlist)
app <- exploreModelMatrix(sampleData = sampleData,
                          designFormula = ~ genotype + treatment)
if (interactive()) shiny::runApp(app)
```

## Example 2 (see https://support.bioconductor.org/p/122506/)

```{r, fig.height = 6, fig.width = 5}
sampleData = data.frame(group = factor(c(rep(1,6), rep(2,6), rep(3,6), rep(4,6))),
                        subject = c(1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7,8,8,8),
                        treatment = factor(c(rep("a",6),rep("b",6),rep("a",6),rep("b",6))),
                        time = factor(c(rep(c(1,2,3), 4), rep(c(1,4,5), 4))))
vd <- visualizeDesign(sampleData = sampleData,
                      designFormula = ~ 0 + time:treatment + treatment)
cowplot::plot_grid(plotlist = vd$plotlist)
app <- exploreModelMatrix(sampleData = sampleData,
                          designFormula = ~ 0 + time:treatment + treatment)
if (interactive()) shiny::runApp(app)
```

